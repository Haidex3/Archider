# -------------------------------------------------
# Startup / exec-once configuration
# -------------------------------------------------

# Lock screen immediately on startup
exec-once = hyprlock --immediate

# -------------------------------------------------
# Wallpapers (theme-aware)
# -------------------------------------------------
exec-once = bash -c 'THEME=$(cat ~/.local/state/hatheme/scheme/current-theme.txt 2>/dev/null || echo "dark") && swww img ~/.local/share/hatheme/images/${THEME}.png --outputs HDMI-A-1'

exec-once = bash -c 'THEME=$(cat ~/.local/state/hatheme/scheme/current-theme.txt 2>/dev/null || echo "dark") && swww img ~/.local/share/hatheme/images/${THEME}-M2.png --outputs HDMI-A-3'

# -------------------------------------------------
# System & services
# -------------------------------------------------

# Load NVIDIA settings
exec-once = nvidia-settings --load-config-only

# Start swww daemon (wallpaper manager)
exec-once = swww-daemon

# Start QuickShell with file read enabled
exec-once = env QML_XHR_ALLOW_FILE_READ=1 quickshell &

# Restart and launch Eww daemon
exec-once = bash -c 'rm -f /run/user/1000/eww-server_*; eww daemon --debug'

# -------------------------------------------------
# Custom scripts
# -------------------------------------------------

# Root-level initialization
exec-once = /home/Haider/scripts/init-root.sh

# User application startup script
exec-once = /home/Haider/scripts/app.fish