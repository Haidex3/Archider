# ===============================================================================
# apps.conf
#
# DESCRIPTION:
#   Configuration file for startup applications and scripts.
#   Handles exec-once commands for lock screen, wallpapers, system services, 
#   and custom user scripts.
# ===============================================================================

# -------------------------------------------------
# Lock Screen
# -------------------------------------------------
# Lock the screen immediately on startup
exec-once = hyprlock --immediate

# -------------------------------------------------
# Wallpapers (theme-aware)
# -------------------------------------------------
# Set wallpaper on HDMI-A-1 based on current theme
exec-once = bash -c 'THEME=$(cat ~/.local/state/hatheme/scheme/current-theme.txt 2>/dev/null || echo "dark") && swww img ~/.local/share/hatheme/images/${THEME}.png --outputs HDMI-A-1'

# Set wallpaper on HDMI-A-3 with variant M2 based on current theme
exec-once = bash -c 'THEME=$(cat ~/.local/state/hatheme/scheme/current-theme.txt 2>/dev/null || echo "dark") && swww img ~/.local/share/hatheme/images/${THEME}-M2.png --outputs HDMI-A-3'

# -------------------------------------------------
# System & Services
# -------------------------------------------------
# Load NVIDIA settings
exec-once = nvidia-settings --load-config-only

# Start swww daemon (wallpaper manager)
exec-once = swww-daemon

# Start QuickShell with file read enabled
exec-once = env QML_XHR_ALLOW_FILE_READ=1 quickshell &

# Restart and launch Eww daemon (deletes old server files first)
exec-once = bash -c 'rm -f /run/user/1000/eww-server_*; eww daemon --debug'

# -------------------------------------------------
# Custom Scripts
# -------------------------------------------------
# Root-level initialization
exec-once = $HOME/scripts/init-root.sh

# User application startup script
exec-once = $HOME/scripts/app.fish

# -------------------------------------------------
# Clipboard
# -------------------------------------------------
exec-once = wl-paste --type text --watch cliphist store
